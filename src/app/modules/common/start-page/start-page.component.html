<mat-card>
	<h2>Прогрессивные веб приложения PWA.</h2>
	<p>Это приложения, использующие определенный подход, шаблоны, логическую структуру и <span class="d-dark-blue" >API</span>, поддерживаемые современными браузерами, результатом применения которых, становиться приложение, обладающие поведением, внешним видом, скоростью отклика на интерактивность и др. сравнимые с native приложениями (приложениями, написанными специально для определенных операционных систем). Они эволюционировали из страниц в браузерных закладках до захватывающих приложений, принимая обычные html и JavaScript, улучшая их и предоставляя первоклассные навыки и ощущения своим пользователям. Они передают ощущения быстродействия приложения даже когда пользователь находиться вне сети, или сеть нестабильна. Они обладают потенциалом объединенного функционирования, до сего дня доступный лишь native приложениям, такой как <span class="dark-blue" >Push notification</span> (входящие оповещения). Разработка приложений с <span class="d-dark-blue" >offline</span> функциональностью и высокой производительностью завит полностью от применения таких программных интерфейсов как <span class="d-dark-blue" >Service worker</span> в комбинации с <span class="d-dark-blue" >Cash Storage Api, IndexedDb, Fetch</span> Api. Разработчику таких приложений нет необходимости изучать языки, специфичные для разных операционных систем, а достаточно использовать знания <span class="d-dark-blue" >HTML, JAVASCRIPT, CSS</span>.</p>
	<h2>Введение в архитектуру прогрессивных веб приложений.</h2>
	<p>PWA приложения имеют следующие характеристики:</p>
	<ul>
		<li><span class="d-dark-red">Прогрессивные</span> (Progressive) – приложения работающие по принципу прогрессивного совершенствования, вне зависимости от выбранного браузера. Характеризуются постепенным добавлением расширяющей функциональности и технической тщательности в представления или функции приложения по мере совершенствования API или расширения возможностей браузеров по поддержке современных интерфейсов. Это выражается в постоянном смене страниц приложения на новые версии, реализующие поддержку современных, или поддерживающие обновленные API. </li>
		<li><span class="d-dark-red" >Отзывчивые</span> (Responsive) – представления (интерфейс) таких приложений заполняет всю область просмотра различных форм-факторов экранов устройств (desktop, mobile, tablet и др.), или окон браузеров (ViewPort), а также использует всплывающие формы.</li>
		<li><span class="d-dark-red" >Независимые от соединения</span> (Connectivity independent) – используя <a href="https://developer.mozilla.org/en-US/docs/Web/API/Service_Worker_API/Using_Service_Workers" >Service worker API</a>, приложение предварительно загружает свой контент в кэш приложения, и использует его при отсутствии соединения с сетью.</li>
		<li><span class="d-dark-red" >Опозноваемые</span> (Discoverable) – опознаваемые как тип приложение, благодаря использованию файла манифеста, быстрой идентификации поисковым движком, благодаря регистрации области действия для <span class="d-blue" >Service worker</span>.</li>
		<li><span class="d-dark-red" >Перезапускаемые</span> (Re-engageable) – при использовании <span class="d-blue" >Push notification</span> (входящих оповещений) приложение получает фокус, если оно запущено и фокус потерян, или запускается средствами устройства, если оно не запущено вообще.</li>
		<li><span class="d-dark-red" >Устанавливаемые</span> (Installable) – позволяет пользователям сохранять ссылку на приложение на рабочем столе для его запуска, и не использовать App Store или Google Store.</li>
		<li><span class="d-dark-red" >Запускаемые по ссылкам</span> (Linkable) – распространяются через передачу ссылки на приложение и не требуют сложной установки.</li>
	</ul>
	<p>Ниже описывается архитектура и технологии, позволяющие приложениям поддерживать работу в отсутствие соединения с сетью (offline), осуществлять серверную синхронизацию и реализовывать входящие оповещения.</p>
	<h3>Краткая технологическая последовательность</h3>
	<p>Проектирование приложения с использованием оболочки приложения опирается на кэширование этой оболочки, используя <span class="d-blue" >Service worker</span>. Использование оболочки приложения и модели динамической загрузки контента серьезно увеличивают производительность приложения и является прогрессивным совершенствованием. Это означает постепенное добавление приложению функциональности, по мере поддержки программных интерфейсов веб программирования.</p>
	<ul>Краткое описание процесса:
		<li>Пользователь получает доступ к сайту или приложению (HTML, JavaScript, CSS) через ссылку в произвольном документе. При первоначальном посещении сайта, полученная пользователем страница регистрирует в браузере <span class="d-blue" >Service worker</span> (сервисного рабочего), который будет контролировать будущую навигацию по сайту или приложению. Эта регистрация создает новый экземпляр сервисного рабочего и запускает событие <span class="d-blue" >install</span>, на которое этот сервисный рабочий устанавливает обработчик события (функцию). Когда событие запускается, в этом обработчике происходит добавление оболочки приложения, и всех её активов в кэш приложения, находящийся в контексте браузера. Если процесс кэширования завершился без ошибок, сервисный рабочий становиться активным и приступает к прослушиванию событий общения браузера и сервера приложения. Заметим, что активацию сервисного рабочего можно осуществить вручную, используя инструменты разработчика в браузере или программно, используя <span class="d-blue" >Service worker API</span>.</li>
		<li>После того, как активы оболочки приложения загружены, сервисный рабочий начинает прослушивать события <span class="d-blue" >fetch</span>, в предварительно установленном обработчике, для наполнения приложения динамически запрошенными ресурсами из сети или ресурсами из кэша приложения, в зависимости от выбранной разработчиком стратегии кэширования. Как только сервисный рабочий завершил обработку очередного запроса, а очередь запросов пуста, браузер вводит его в неактивные состояния, до следующего события запроса данных, при котором он пробуждается и производит обработку запроса. Если по прошествии определенного времени запрос не поступил, исполнение скрипта этого сервисного рабочего останавливается, экономя ресурсы системы, до возникновения очередного события запроса, при котором скрипт этого рабочего запускается и приступает к обработке запроса.</li>
		<li>Если браузер не поддерживает интерфейс <span class="d-blue" >Service worker</span>, приложение запускается как обычно, загружая все необходимое с сервера приложения без регистрации сервисного рабочего. Оно также продолжает работать на прямую через HTTPS, используя не кэш приложения, а браузерный кэш, применяя уже серверную стратегию кэширования.</li>
	</ul>
	<h3>Терминология и используемые технологические цепочки процесса.</h3>
	<p>Применение некоторых технологических операций не обязательно и зависит от предпочтений разоаботчика.</p>
	<ul>
		<li><span class="d-blue" >App shell</span> (оболочка приложения) - Минимальный набор активов (HTML, CSS, JavaScript) и иных статических ресурсов, необходимых для структурирования интерфейса стартовой страницы приложения, без громоздких серверных данных.</li>
		<li><span class="d-blue" >Cache</span> (кэш) - В контексте браузера существуют два типа кэша:
			<ul>
				<li>Кэш, управляемый браузером.</li>
				<li>Кэш, управляемый приложением.</li>
			</ul>
			<span class="d-blue" >Браузерный кэш</span> – временная область памяти для файлов сайта, загруженных браузером. Этими файлами могут быть любые документы, такие как HTML, CSS, JavaScript, графические изображения и любой медиа контент. Этот кэш управляется браузером автоматически и не доступен при отсутствии сети.<br>
			<span class="d-blue" >Кэш приложения</span> – область памяти, которая создается с использованием Cache API, независимо от браузерного кэша. Эти API доступны для приложений через свойство глобального контекста (window.cache) и service worker. Этот кэш содержит те же типы ресурсов, что и браузерный кэш, но они доступные при отсутствии сети, он управляется разработчиком, реализующим скрипты Cache API, явно обновляя ресурсы, находящиеся в именованных объектах кэшей. <br>
			Кэш – отличный инструмент построения современного приложения, применяющий стратегии кэширования, позволяющие управлять производительностью.</li>
		<li><span class="d-blue" >Визуализация на клиенте</span> (CSR) - Это работа JavaScript скрипта в браузере, результатом которой является HTML элементы, образующие интерфейс приложения, возможно применяя шаблонизацию. Преимущество такого подхода в том, что обновление интерфейса происходит очень быстро, гарантируя мгновенный отклик на пользовательскую активность, вместо ожидания интерфейса с сервера. Большинство сайтов статического контента имеют серверную визуализацию, т.е. получают интерфейс с сервера, затрачивая время. Поэтому анимированные компоненты интерфейса или высоко активные блоки функциональности приложения, почти всегда имеют клиентскую визуализацию</li>
		<li><span class="d-blue" >Динамический контент</span> – это данные, изображения и прочие необходимые ресурсы приложения не являющиеся частью оболочки приложения и не использующиеся для формирования его стартового интерфейса. Эти данные могут быть загружены позже, после формирования интерфейса, либо по умолчанию, либо динамически, после интерактивных действий пользователя, используя запрос к серверу или используя визуализацию на клиенте.</li>
		<li><span class="d-blue" >Fetch API</span> – Программный интерфейс запросов. Дополнительная реализация этого интерфейса в составе Service worker, помогает ему запросить данные с любого ресурса и является частью реализации динамического контента</li>
		<li><span class="d-blue" >Прогрессивное совершенствование</span> – подход в веб разработке, при котором объем функциональности приложения последовательно увеличивается, добавляя реализацию поддержки новых API и технологий современными браузерами.</li>
		<li><span class="d-blue" >Архитектурные стили PWA</span> – Несколько подходов в построении приложения, основанных на доступности серверных технологий и требований к производительности. Шаблоны включают использования оболочки приложения, серверной визуализации, клиентской визуализации и других. Эти шаблоны перечислены далее.</li>
		<li><span class="d-blue" >Серверная визуализация</span> (SSR) – это подход, при котором результатом запроса документа должен быть готовый HTML документ, либо его фрагмент, а не промежуточная программа клиентской визуализации, что значительно повышает производительность, ведь клиентам нет необходимости расходовать ресурсы на клиентскую визуализацию, поскольку использовались ресурсы сервера.</li>
		<li><span class="d-blue" >Workbox</span> – JavaScript модуль, интегрирующийся с процессом компоновки приложения, и генерирующий код кэширования ресурсов оболочки приложения, использующий различные стратегии кэширования.</li>
		<li><span class="d-blue" >Универсальная JavaScript визуализация</span> – Универсальные или изоморфные JavaScript приложения имеют код, который может запускаться как на клиентской, так и на серверной стороне. Это означает, что некоторая логика визуализации приложения может быть выполнена как на сервере, используя его ресурсы, так и на клиенте, что увеличивает производительность запуска приложения. Такие приложения выходят с уникальным набором технических решений для маршрутизации (в идеале, имеющего единый набор маршрутов, сопоставляемый с шаблонами URL маршрутизации обработчиков маршрутов), унифицированного подхода в получении данных, и визуализации представлений (представления визуализируются либо на клиенте, либо на сервере, по необходимости).</li>
		<li><span class="d-blue" >Манифест веб приложения</span> – текстовый файл, содержащий метаданные приложения, необходимые при запуске приложения в различных контекстах операционных систем.</li>
	</ul>
</mat-card>
